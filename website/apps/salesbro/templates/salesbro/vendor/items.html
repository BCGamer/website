{% extends "salesbro/vendor/base.html" %}
{% load mezzanine_tags shop_tags i18n %}

{% block body_id %}list{% endblock %}

{% block main %}
    <div class="container">
        <div class="row">

            <div class="col-md-9 middle">
                <form method="POST" action="." class="form-horizontal" novalidate autocomplete="off">
                    {% csrf_token %}
                    <h4>Tickets</h4>
                    {{ ticket_option_formset.management_form }}
                    {% for form in ticket_option_formset %}
                        <div class="row">
                            {{ form.id }}
                            <div class="col-md-6">
                                {{ form.ticket_option.get_full_name }}
                            </div>
                            <div class="col-md-2">
                                <label>Price:</label> {{ form.instance.price }}
                            </div>
                            <div class="form-group col-md-4 {% if form.quantity.errors %}has-error{% endif %}">
                                <label>Quantity:</label> {{ form.quantity }}
                                {% for error in form.quantity.errors %}
                                    <p class="help-block">
                                        {{ error }}
                                    </p>
                                {% endfor %}
                            </div>
                        </div>
                    {% endfor %}


                    <h4>Products</h4>
                    {{ product_formset.management_form }}
                    {% for form in product_formset %}
                        <div class="row">
                            {{ form.id }}
                            <div class="col-md-6">
                                {{ form.instance.product.description }}
                            </div>
                            <div class="col-md-2">
                                <label>Price:</label> {{ form.instance.price }}
                            </div>
                            <div class="col-md-4 form-group {% if form.quantity.errors %}has-error{% endif %}">
                                <label>Quantity:</label> {{ form.quantity }}
                                {% for error in form.quantity.errors %}
                                    <p class="help-block">
                                        {{ error }}
                                    </p>
                                {% endfor %}
                            </div>
                        </div>
                    {% endfor %}

                    <div class="form-actions">
                        <input type="submit" name="add_to_cart" class="btn btn-primary btn-lg pull-right" value="{% trans "Add to Cart" %}">
                        <input type="submit" name="go_to_cart" class="btn btn-primary btn-lg pull-right" value="{% trans "Go to Cart" %}">
                    </div>

                </form>
            </div>
        </div>
    </div>
{% endblock main %}

